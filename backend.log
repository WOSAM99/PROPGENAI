nohup: ignoring input
INFO:     Will watch for changes in these directories: ['/home/desk0023/Documents/rag_system2/proposal-generator-api']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [339045] using WatchFiles
INFO:     Started server process [339048]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO | logging.py | 16 | üîµ INCOMING REQUEST: GET /docs
INFO | logging.py | 17 | üìã Headers: {
  "host": "localhost:8000",
  "user-agent": "curl/8.5.0",
  "accept": "*/*"
}
INFO | logging.py | 18 | üîë Authorization Header: NO AUTH HEADER
INFO | jwt_auth.py | 38 | üõ°Ô∏è  JWT MIDDLEWARE: Processing GET /docs
INFO | jwt_auth.py | 56 | üü¢ JWT MIDDLEWARE: Public path '/docs' - skipping authentication
INFO | logging.py | 42 | ‚úÖ RESPONSE: GET /docs | Status: 200 | Time: 1.45ms
INFO:     127.0.0.1:49740 - "GET /docs HTTP/1.1" 200 OK
INFO | logging.py | 16 | üîµ INCOMING REQUEST: GET /test/health
INFO | logging.py | 17 | üìã Headers: {
  "host": "localhost:8000",
  "user-agent": "curl/8.5.0",
  "accept": "*/*"
}
INFO | logging.py | 18 | üîë Authorization Header: NO AUTH HEADER
INFO | jwt_auth.py | 38 | üõ°Ô∏è  JWT MIDDLEWARE: Processing GET /test/health
INFO | jwt_auth.py | 50 | üîÑ JWT MIDDLEWARE: Route not found, proceeding...
INFO | logging.py | 42 | ‚ùå RESPONSE: GET /test/health | Status: 404 | Time: 0.99ms
INFO:     127.0.0.1:37986 - "GET /test/health HTTP/1.1" 404 Not Found
INFO | logging.py | 16 | üîµ INCOMING REQUEST: GET /docs
INFO | logging.py | 17 | üìã Headers: {
  "host": "localhost:8000",
  "user-agent": "curl/8.5.0",
  "accept": "*/*"
}
INFO | logging.py | 18 | üîë Authorization Header: NO AUTH HEADER
INFO | jwt_auth.py | 38 | üõ°Ô∏è  JWT MIDDLEWARE: Processing GET /docs
INFO | jwt_auth.py | 56 | üü¢ JWT MIDDLEWARE: Public path '/docs' - skipping authentication
INFO | logging.py | 42 | ‚úÖ RESPONSE: GET /docs | Status: 200 | Time: 0.98ms
INFO:     127.0.0.1:52324 - "GET /docs HTTP/1.1" 200 OK
INFO | logging.py | 16 | üîµ INCOMING REQUEST: GET /openapi.json
INFO | logging.py | 17 | üìã Headers: {
  "host": "localhost:8000",
  "user-agent": "curl/8.5.0",
  "accept": "*/*"
}
INFO | logging.py | 18 | üîë Authorization Header: NO AUTH HEADER
INFO | jwt_auth.py | 38 | üõ°Ô∏è  JWT MIDDLEWARE: Processing GET /openapi.json
INFO | jwt_auth.py | 56 | üü¢ JWT MIDDLEWARE: Public path '/openapi.json' - skipping authentication
INFO | logging.py | 42 | ‚úÖ RESPONSE: GET /openapi.json | Status: 200 | Time: 6.22ms
INFO:     127.0.0.1:52336 - "GET /openapi.json HTTP/1.1" 200 OK
INFO | logging.py | 16 | üîµ INCOMING REQUEST: GET /openapi.json
INFO | logging.py | 17 | üìã Headers: {
  "host": "localhost:8000",
  "user-agent": "curl/8.5.0",
  "accept": "*/*"
}
INFO | logging.py | 18 | üîë Authorization Header: NO AUTH HEADER
INFO | jwt_auth.py | 38 | üõ°Ô∏è  JWT MIDDLEWARE: Processing GET /openapi.json
INFO | jwt_auth.py | 56 | üü¢ JWT MIDDLEWARE: Public path '/openapi.json' - skipping authentication
INFO | logging.py | 42 | ‚úÖ RESPONSE: GET /openapi.json | Status: 200 | Time: 1.08ms
INFO:     127.0.0.1:39302 - "GET /openapi.json HTTP/1.1" 200 OK
INFO | logging.py | 16 | üîµ INCOMING REQUEST: POST /auth/token
INFO | logging.py | 17 | üìã Headers: {
  "content-type": "application/json",
  "authorization": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiMTIzIiwiZXhwIjoxNzQ4NDk3OTg5fQ.Bfi6qW-JevrGRb44XTqIJ7bFIuToEBI0GIK1AG63lvc",
  "user-agent": "PostmanRuntime/7.44.0",
  "accept": "*/*",
  "postman-token": "8b3626ee-488d-4069-a22d-3debc499c750",
  "host": "0.0.0.0:8000",
  "accept-encoding": "gzip, deflate, br",
  "connection": "keep-alive",
  "content-length": "23"
}
INFO | logging.py | 18 | üîë Authorization Header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiMTIzIiwiZXhwIjoxNzQ4NDk3OTg5fQ.Bfi6qW-JevrGRb44XTqIJ7bFIuToEBI0GIK1AG63lvc
INFO | logging.py | 29 | üìÑ Request Body (JSON): {
  "user_id": "123"
}
INFO | jwt_auth.py | 38 | üõ°Ô∏è  JWT MIDDLEWARE: Processing POST /auth/token
INFO | jwt_auth.py | 56 | üü¢ JWT MIDDLEWARE: Public path '/auth/token' - skipping authentication
INFO | auth_controller.py | 78 | Attempting to create a direct JWT for user_id: 123 (deprecated /token endpoint)
INFO | logging.py | 42 | ‚úÖ RESPONSE: POST /auth/token | Status: 200 | Time: 13.54ms
INFO:     127.0.0.1:35750 - "POST /auth/token HTTP/1.1" 200 OK
INFO | logging.py | 16 | üîµ INCOMING REQUEST: OPTIONS /doc/upload
INFO | logging.py | 17 | üìã Headers: {
  "host": "0.0.0.0:8000",
  "connection": "keep-alive",
  "accept": "*/*",
  "access-control-request-method": "POST",
  "access-control-request-headers": "authorization",
  "origin": "http://localhost:4028",
  "user-agent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36",
  "sec-fetch-mode": "cors",
  "referer": "http://localhost:4028/",
  "accept-encoding": "gzip, deflate",
  "accept-language": "en-US,en;q=0.9"
}
INFO | logging.py | 18 | üîë Authorization Header: NO AUTH HEADER
INFO | logging.py | 42 | ‚úÖ RESPONSE: OPTIONS /doc/upload | Status: 200 | Time: 0.64ms
INFO:     127.0.0.1:46632 - "OPTIONS /doc/upload HTTP/1.1" 200 OK
INFO | logging.py | 16 | üîµ INCOMING REQUEST: POST /doc/upload
INFO | logging.py | 17 | üìã Headers: {
  "host": "0.0.0.0:8000",
  "connection": "keep-alive",
  "content-length": "160480",
  "user-agent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36",
  "content-type": "multipart/form-data; boundary=----WebKitFormBoundaryLEcNuE9xHs96oFkR",
  "authorization": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiMzVkNzk4OTItNjQ3MS00MTFjLTkyNjQtNWY3NTUxMDc2ODE5IiwiaWF0IjoxNzQ5MTIxMzg5LCJleHAiOjE3NDkyMDc3ODl9.0a0Khk5gDbkkZib5DHAjVocFslenFJ-v3CjcmjFyOb4",
  "accept": "*/*",
  "origin": "http://localhost:4028",
  "referer": "http://localhost:4028/",
  "accept-encoding": "gzip, deflate",
  "accept-language": "en-US,en;q=0.9"
}
INFO | logging.py | 18 | üîë Authorization Header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiMzVkNzk4OTItNjQ3MS00MTFjLTkyNjQtNWY3NTUxMDc2ODE5IiwiaWF0IjoxNzQ5MTIxMzg5LCJleHAiOjE3NDkyMDc3ODl9.0a0Khk5gDbkkZib5DHAjVocFslenFJ-v3CjcmjFyOb4
ERROR | logging.py | 33 | ‚ùå Error reading request body: 'utf-8' codec can't decode byte 0xd3 in position 159: invalid continuation byte
INFO | jwt_auth.py | 38 | üõ°Ô∏è  JWT MIDDLEWARE: Processing POST /doc/upload
INFO | jwt_auth.py | 59 | üîí JWT MIDDLEWARE: Protected path '/doc/upload' - authentication required
INFO | jwt_auth.py | 63 | üîë JWT MIDDLEWARE: Authorization header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiMzVkNzk4OTItNjQ3MS00MTFjLTkyNjQtNWY3NTUxMDc2ODE5IiwiaWF0IjoxNzQ5MTIxMzg5LCJleHAiOjE3NDkyMDc3ODl9.0a0Khk5gDbkkZib5DHAjVocFslenFJ-v3CjcmjFyOb4
INFO | token.py | 57 | üîç JWT VALIDATION STARTED
INFO | token.py | 58 | üîë Received auth_header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiMzVkNzk4OTItNjQ3MS00MTFjLTkyNjQtNWY3NTUxMDc2ODE5IiwiaWF0IjoxNzQ5MTIxMzg5LCJleHAiOjE3NDkyMDc3ODl9.0a0Khk5gDbkkZib5DHAjVocFslenFJ-v3CjcmjFyOb4
INFO | token.py | 66 | üîß Parsed scheme: 'Bearer', token length: 193
INFO | token.py | 75 | üîê JWT Token (first 20 chars): eyJhbGciOiJIUzI1NiIs...
INFO | token.py | 76 | üîß Using JWT_SECRET_KEY (first 10 chars): 123456...
INFO | token.py | 77 | üîß Using JWT_ALGORITHM: HS256
ERROR | token.py | 38 | JWT validation error: Signature verification failed.
ERROR | token.py | 89 | ‚ùå JWT VALIDATION FAILED: HTTPException during decryption
ERROR | jwt_auth.py | 73 | ‚ùå JWT MIDDLEWARE: Authentication failed - Invalid token or expired token
INFO | logging.py | 42 | ‚ùå RESPONSE: POST /doc/upload | Status: 403 | Time: 2.53ms
INFO:     127.0.0.1:46632 - "POST /doc/upload HTTP/1.1" 403 Forbidden
WARNING:  WatchFiles detected changes in 'uvicorn_config.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [339048]
INFO:     Started server process [394490]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'uvicorn_config.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [394490]
INFO:     Started server process [394520]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'uvicorn_config.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [394520]
INFO:     Started server process [394692]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'uvicorn_config.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [394692]
INFO:     Started server process [395572]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [395572]
INFO:     Stopping reloader process [339045]
/usr/lib/python3.12/multiprocessing/resource_tracker.py:254: UserWarning: resource_tracker: There appear to be 40 leaked semaphore objects to clean up at shutdown
  warnings.warn('resource_tracker: There appear to be %d '
